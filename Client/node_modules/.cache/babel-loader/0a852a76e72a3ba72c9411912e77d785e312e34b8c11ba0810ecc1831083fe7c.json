{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\Desktop\\\\EchoBond\\\\client\\\\src\\\\components\\\\mainSpace\\\\album.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Album from \"../albumComponent/albumComponent\";\nimport \"./album.css\";\nimport { ClipLoader } from 'react-spinners'; // Importing a spinner from react-spinners\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Albums(props) {\n  _s();\n  const [allAlbums, setAllAlbums] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Fetch albums data when the component mounts\n    axios.get(\"http://localhost:4000/albums/get-all-albums\").then(response => {\n      setAllAlbums(response.data); // Assuming the response contains an array of albums\n      setIsLoading(false);\n    }).catch(error => {\n      const refreshToken = localStorage.getItem('refreshToken');\n      axios.defaults.headers.common['Authorization'] = `Bearer ${refreshToken}`;\n      axios.get(\"http://100.91.43.32:4000/token/refresh-token\").then(response => {\n        localStorage.setItem('accessToken', response.data.accessToken);\n        axios.defaults.headers.common['Authorization'] = `Bearer ${response.data.accessToken}`;\n        axios.get(\"http://localhost:4000/albums/get-all-albums\").then(response => {\n          setAllAlbums(response.data); // Assuming the response contains an array of albums\n          setIsLoading(false);\n        });\n      }).catch(error => {\n        navigate(\"/\", {\n          replace: true\n        });\n      });\n    });\n  }, []);\n  const fetchAlbums = async () => {};\n  const handleAlbumClick = album => {\n    props.setSelectedAlbum(album); // Set selected album\n    console.log(album);\n    props.setChoice(\"AlbumSongs\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-white flex flex-row flex-wrap justify-center gap-16 overflow-y-auto h-full\",\n    children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center w-full h-full\",\n      children: [/*#__PURE__*/_jsxDEV(ClipLoader, {\n        color: \"purple\",\n        size: 150\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }, this) : allAlbums.length > 0 ? allAlbums.map((album, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => handleAlbumClick(album),\n      children: /*#__PURE__*/_jsxDEV(Album, {\n        image: album.image,\n        artist: album.artist,\n        name: album.name,\n        genre: album.style,\n        year: album.year\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }, this)\n    }, album, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No albums found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 13\n  }, this);\n}\n_s(Albums, \"g+rb6Vi+3ml5F/1xXblivhs4Y/s=\", false, function () {\n  return [useNavigate];\n});\n_c = Albums;\nexport default Albums;\nvar _c;\n$RefreshReg$(_c, \"Albums\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","Album","ClipLoader","jsxDEV","_jsxDEV","Albums","props","_s","allAlbums","setAllAlbums","isLoading","setIsLoading","error","setError","navigate","get","then","response","data","catch","refreshToken","localStorage","getItem","defaults","headers","common","setItem","accessToken","replace","fetchAlbums","handleAlbumClick","album","setSelectedAlbum","console","log","setChoice","className","children","color","size","fileName","_jsxFileName","lineNumber","columnNumber","length","map","index","onClick","image","artist","name","genre","style","year","_c","$RefreshReg$"],"sources":["C:/Users/asus/Desktop/EchoBond/client/src/components/mainSpace/album.js"],"sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport axios from \"axios\";\r\nimport Album from \"../albumComponent/albumComponent\";\r\nimport \"./album.css\"\r\nimport { ClipLoader } from 'react-spinners'; // Importing a spinner from react-spinners\r\n\r\n\r\n\r\n\r\nfunction Albums  (props){\r\n    const[allAlbums,setAllAlbums] = useState([]);   \r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        // Fetch albums data when the component mounts\r\n        axios.get(\"http://localhost:4000/albums/get-all-albums\")\r\n        .then(response => {\r\n            setAllAlbums(response.data); // Assuming the response contains an array of albums\r\n            setIsLoading(false);\r\n\r\n        })\r\n        .catch (error => {\r\n            const refreshToken = localStorage.getItem('refreshToken');\r\n            axios.defaults.headers.common['Authorization'] = `Bearer ${refreshToken}`\r\n\r\n            axios.get(\"http://100.91.43.32:4000/token/refresh-token\")\r\n            .then(response => {       \r\n                localStorage.setItem('accessToken', response.data.accessToken);\r\n                axios.defaults.headers.common['Authorization'] = `Bearer ${response.data.accessToken}`\r\n\r\n                axios.get(\"http://localhost:4000/albums/get-all-albums\")\r\n                .then(response => {\r\n                    setAllAlbums(response.data); // Assuming the response contains an array of albums\r\n                    setIsLoading(false);\r\n                })\r\n            })\r\n            .catch(error => {\r\n                navigate(\"/\", { replace: true })\r\n            })\r\n        })\r\n    }, [])\r\n    \r\n    const fetchAlbums = async () => {\r\n            \r\n    };\r\n    \r\n    const handleAlbumClick = (album) => {\r\n        props.setSelectedAlbum(album); // Set selected album\r\n        console.log(album)\r\n        props.setChoice(\"AlbumSongs\");\r\n    };\r\n\r\n    return(\r\n            <div className=\"text-white flex flex-row flex-wrap justify-center gap-16 overflow-y-auto h-full\">\r\n                {isLoading ? (\r\n                    <div className=\"flex justify-center items-center w-full h-full\">\r\n                        <ClipLoader color=\"purple\" size={150} /> {/* Spinner component */}\r\n                    </div>\r\n                ) : allAlbums.length > 0 ? (\r\n                allAlbums.map((album, index) => (\r\n                    <div key={album} onClick={() => handleAlbumClick(album)}>\r\n                        <Album \r\n                            image={album.image}\r\n                            artist={album.artist}\r\n                            name={album.name}\r\n                            genre={album.style}\r\n                            year={album.year}\r\n                        />\r\n                    </div>\r\n                ))\r\n                ) : (\r\n                    <p>No albums found</p>\r\n                )}\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Albums;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}