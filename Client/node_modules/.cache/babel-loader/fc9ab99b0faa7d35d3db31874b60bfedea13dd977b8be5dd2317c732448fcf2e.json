{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\Desktop\\\\EchoBond\\\\Client\\\\src\\\\components\\\\searchComponent\\\\searchIdle.js\",\n  _s = $RefreshSig$();\n// Basic imports.\nimport React, { useState, useEffect } from \"react\";\n\n// Import axios for requests.\nimport axios from \"axios\";\n\n// Component imports.\nimport Album from '../albumComponent/albumComponent';\nimport Artists from \"../artistsComponent/artistsComponent\";\nimport Songs from \"../albumComponent/song\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SearchIdle(props) {\n  _s();\n  const [AllRecentSongs, setAllRecentSongs] = useState([]);\n  const [AllRecentArtists, setAllRecentArtists] = useState([]);\n  const [AllRecentAlbum, setAllRecentAlbum] = useState([]);\n\n  // Put recent searched.\n  useEffect(() => {\n    const accessToken = localStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = `Bearer ${accessToken}`;\n\n    // Fetch albums data when the component mounts\n    axios.get(\"http://100.91.43.32:4000/user/search-recent\").then(response => {\n      setAllRecentSongs(response.data.songs); // Assuming the response contains an array of albums\n      setAllRecentAlbum(response.data.albums); // Assuming the response contains\n      setAllRecentArtists(response.data.artists);\n      console.log(AllRecentAlbum);\n      console.log(AllRecentArtists);\n      setIsLoading(false);\n    }).catch(error => {\n      const refreshToken = localStorage.getItem('refreshToken');\n      axios.defaults.headers.common['Authorization'] = `Bearer ${refreshToken}`;\n      axios.get(\"http://100.91.43.32:4000/token/refresh-token\").then(response => {\n        localStorage.setItem('accessToken', response.data.accessToken);\n        axios.defaults.headers.common['Authorization'] = `Bearer ${response.data.accessToken}`;\n        axios.get(\"http://100.91.43.32:4000/user/search-recent\").then(response => {\n          setAllRecentSongs(response.data.songs); // Assuming the response contains an array of albums\n          setAllRecentAlbum(response.data.albums); // Assuming the response contains\n          setAllRecentArtists(response.data.artists);\n          console.log(AllRecentAlbum);\n          console.log(AllRecentArtists);\n          setIsLoading(false);\n        });\n      });\n    });\n  }, []);\n\n  //handle the click of the Artist\n  const handleArtistClick = artist => {\n    //setting the page to mainSpace and putting ArtistSongs\n    props.setSelectedArtist(artist);\n    props.setMainSpace(\"mainSpace\");\n    props.setChangeTo(\"ArtistsSongs\");\n  };\n\n  //handle the click of the Album\n  const handleAlbumClick = album => {\n    props.setSelectedAlbum(album);\n    //setting the page to mainSpace and putting AlbumSongs\n    props.setMainSpace(\"mainSpace\");\n    props.setChangeTo(\"AlbumSongs\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-white mb-4 mt-4 ml-24 text-xl\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-bold\",\n        children: \"Recently Searched\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-wrap overflow-y-auto h-5/6 mb-24\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col flex-wrap text-white gap-4 overflow-x-auto ml-20 mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-row flex-wrap overflow-x\",\n          children: [AllRecentArtists.map((artist, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white\",\n            onClick: () => handleArtistClick(artist),\n            children: /*#__PURE__*/_jsxDEV(Artists, {\n              image: artist.image,\n              name: artist.name,\n              music: artist.style\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 37\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 33\n          }, this)), AllRecentAlbum.map((album, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"\",\n            onClick: () => handleAlbumClick(album),\n            children: /*#__PURE__*/_jsxDEV(Album, {\n              image: album.image,\n              artist: album.artist,\n              name: album.name,\n              genre: album.style,\n              year: album.year\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 37\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 33\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: AllRecentSongs.map((song, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white\",\n            children: /*#__PURE__*/_jsxDEV(Songs, {\n              image: song.image,\n              name: song.title,\n              artist: song.artist,\n              time: song.time\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 33\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n}\n_s(SearchIdle, \"S/TI5TT7dfHfum5yNcwsjORb2gU=\");\n_c = SearchIdle;\nexport default SearchIdle;\nvar _c;\n$RefreshReg$(_c, \"SearchIdle\");","map":{"version":3,"names":["React","useState","useEffect","axios","Album","Artists","Songs","jsxDEV","_jsxDEV","SearchIdle","props","_s","AllRecentSongs","setAllRecentSongs","AllRecentArtists","setAllRecentArtists","AllRecentAlbum","setAllRecentAlbum","accessToken","localStorage","getItem","defaults","headers","common","get","then","response","data","songs","albums","artists","console","log","setIsLoading","catch","error","refreshToken","setItem","handleArtistClick","artist","setSelectedArtist","setMainSpace","setChangeTo","handleAlbumClick","album","setSelectedAlbum","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","index","onClick","image","name","music","style","genre","year","song","title","time","_c","$RefreshReg$"],"sources":["C:/Users/asus/Desktop/EchoBond/Client/src/components/searchComponent/searchIdle.js"],"sourcesContent":["// Basic imports.\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\n// Import axios for requests.\r\nimport axios from \"axios\";\r\n\r\n// Component imports.\r\nimport Album  from '../albumComponent/albumComponent'\r\nimport Artists from \"../artistsComponent/artistsComponent\";\r\nimport Songs from \"../albumComponent/song\"\r\n\r\nfunction SearchIdle (props) {\r\n    const [AllRecentSongs, setAllRecentSongs] = useState([]);\r\n\r\n    const [AllRecentArtists, setAllRecentArtists] = useState([]);\r\n\r\n    const [AllRecentAlbum,setAllRecentAlbum] = useState([])\r\n\r\n    // Put recent searched.\r\n    useEffect(() =>{\r\n        const accessToken = localStorage.getItem('accessToken');\r\n        axios.defaults.headers.common['Authorization'] = `Bearer ${accessToken}`\r\n\r\n        // Fetch albums data when the component mounts\r\n        axios.get(\"http://100.91.43.32:4000/user/search-recent\")\r\n        .then(response => {\r\n            setAllRecentSongs(response.data.songs); // Assuming the response contains an array of albums\r\n            setAllRecentAlbum(response.data.albums)// Assuming the response contains\r\n            setAllRecentArtists(response.data.artists);\r\n            console.log(AllRecentAlbum)\r\n            console.log(AllRecentArtists)\r\n\t\t\tsetIsLoading(false);\r\n        })\r\n        .catch (error => {\r\n            const refreshToken = localStorage.getItem('refreshToken');\r\n            axios.defaults.headers.common['Authorization'] = `Bearer ${refreshToken}`\r\n\r\n            axios.get(\"http://100.91.43.32:4000/token/refresh-token\")\r\n            .then(response => {       \r\n                localStorage.setItem('accessToken', response.data.accessToken);\r\n                axios.defaults.headers.common['Authorization'] = `Bearer ${response.data.accessToken}`\r\n                \r\n\r\n                axios.get(\"http://100.91.43.32:4000/user/search-recent\")\r\n                .then(response => {\r\n                    setAllRecentSongs(response.data.songs); // Assuming the response contains an array of albums\r\n                    setAllRecentAlbum(response.data.albums)// Assuming the response contains\r\n                    setAllRecentArtists(response.data.artists);\r\n                    console.log(AllRecentAlbum)\r\n                    console.log(AllRecentArtists)\r\n                    setIsLoading(false);\r\n                })\r\n            })\r\n        })\r\n    },[])\r\n\r\n    //handle the click of the Artist\r\n    const handleArtistClick = (artist) => {\r\n        //setting the page to mainSpace and putting ArtistSongs\r\n        props.setSelectedArtist(artist);\r\n        props.setMainSpace(\"mainSpace\")\r\n        props.setChangeTo(\"ArtistsSongs\");\r\n    }\r\n\r\n    //handle the click of the Album\r\n    const handleAlbumClick = (album) => {\r\n        props.setSelectedAlbum(album);\r\n        //setting the page to mainSpace and putting AlbumSongs\r\n        props.setMainSpace(\"mainSpace\")\r\n        props.setChangeTo(\"AlbumSongs\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-full\">\r\n            <div className=\"text-white mb-4 mt-4 ml-24 text-xl\">\r\n            <p className=\"font-bold\">Recently Searched</p>\r\n            </div>\r\n            <div className=\"flex-wrap overflow-y-auto h-5/6 mb-24\">\r\n                <div className=\"flex flex-col flex-wrap text-white gap-4 overflow-x-auto ml-20 mt-4\">\r\n                    <div className=\"flex flex-row flex-wrap overflow-x\">\r\n                        {AllRecentArtists.map((artist, index) => (\r\n                                <div key={index} className=\"text-white\" onClick={() => handleArtistClick(artist)}>\r\n                                    <Artists \r\n                                        image = {artist.image}\r\n                                        name = {artist.name}\r\n                                        music = {artist.style}\r\n                                    />\r\n                                </div>\r\n                            ))}\r\n                            {AllRecentAlbum.map((album,index) => (\r\n                                <div key={index} className=\"\" onClick={() => handleAlbumClick(album)}>\r\n                                    <Album \r\n                                        image = {album.image}\r\n                                        artist = {album.artist}\r\n                                        name = {album.name}\r\n                                        genre ={album.style}\r\n                                        year = {album.year}\r\n                                    />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    <div>\r\n                        {AllRecentSongs.map((song, index) => (\r\n                            <div key={index} className=\"text-white\">\r\n                                <Songs \r\n                                    image = {song.image}\r\n                                    name = {song.title}\r\n                                    artist = {song.artist}\r\n                                    time = {song.time}\r\n                                />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchIdle;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}