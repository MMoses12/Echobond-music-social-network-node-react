{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\Desktop\\\\EchoBond\\\\Client\\\\src\\\\components\\\\mainSpace\\\\chat.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jwtDecode } from 'jwt-decode';\nimport { RenderContext } from '../../Pages/musicHome';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowLeft, faUser } from '@fortawesome/free-solid-svg-icons';\nimport MessageBar from '../chat/messagebar';\nimport Message from '../chat/message';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Chat(props) {\n  _s();\n  const {\n    socket\n  } = useContext(RenderContext);\n  const [username, setUsername] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [id, setID] = useState();\n  const messagesEndRef = useRef(null);\n  const navigate = useNavigate();\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView();\n  };\n  const openSockets = conversationID => {\n    setID(conversationID);\n    socket.emit('conversation', conversationID);\n\n    // Update a separate state variable to force re-render.\n    const messageHandler = message => {\n      setMessages(prevMessages => [...prevMessages, message]);\n    };\n\n    // Set up socket event listener.\n    socket.off('message');\n    socket.on('message', messageHandler);\n  };\n\n  // Get username from the token.\n  function getUsernameFromToken() {\n    const accessToken = localStorage.getItem('accessToken');\n    if (!accessToken) {\n      return null;\n    }\n    try {\n      const decodedToken = jwtDecode(accessToken);\n      return decodedToken.username; // Assuming the username is stored in the token under 'username'\n    } catch (error) {\n      const refreshToken = localStorage.getItem('refreshToken');\n      axios.defaults.headers.common['Authorization'] = `Bearer ${refreshToken}`;\n      axios.get(\"http://100.91.43.32:4000/token/refresh-token\").then(response => {\n        localStorage.setItem(\"accessToken\", response.data.accessToken);\n        const decodedToken = jwtDecode(response.data.accessToken);\n        return decodedToken.username; // Assuming the username is stored in the token under 'username'\n      }).catch(error => {\n        navigate(\"/\", {\n          replace: true\n        });\n      });\n      return null;\n    }\n  }\n\n  // Clean messages and disconnect from room\n  // when friend's conversation is changing.\n  useEffect(() => {\n    setMessages([]);\n    if (id) {\n      socket.emit('leaveChat', id);\n    }\n  }, [props.friendsName]);\n\n  // Make request to get conversationID and connect to \n  // a room with the specific friend.\n  useEffect(() => {\n    const accessToken = localStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = `Bearer ${accessToken}`;\n    axios.post('http://100.91.43.32:4000/chat/get-conversation-id', {\n      friend: props.friendsName\n    }).then(response => {\n      setMessages([]);\n      openSockets(response.data.conversationID);\n      setUsername(getUsernameFromToken);\n    }).catch(error => {\n      const refreshToken = localStorage.getItem('refreshToken');\n      axios.defaults.headers.common['Authorization'] = `Bearer ${refreshToken}`;\n      axios.get(\"http://100.91.43.32:4000/token/refresh-token\").then(response => {\n        localStorage.setItem(\"accessToken\", response.data.accessToken);\n        axios.defaults.headers.common['Authorization'] = `Bearer ${response.data.accessToken}`;\n        axios.post('http://100.91.43.32:4000/chat/get-conversation-id', {\n          friend: props.friendsName\n        }).then(response => {\n          setMessages([]);\n          openSockets(response.data.conversationID);\n          setUsername(getUsernameFromToken);\n        });\n      }).catch(error => {\n        navigate(\"/\", {\n          replace: true\n        });\n      });\n    });\n  }, [props.friendsName]);\n\n  // When messages change scroll to bottom.\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Go to main page.\n  const musicHome = () => {\n    if (props) {\n      props.setChangeTo('All');\n      props.setChoice('mainSpace');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col text-white h-full w-full rounded-3xl\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row gap-4 items-center text-xl ml-4 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faArrowLeft,\n        className: \"cursor-pointer\",\n        onClick: musicHome\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), props.friendImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: props.friendImage,\n        className: \"h-12 w-12 rounded-full ml-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-r from-purple-200 to-blue-200 flex justify-center items-center border-2 border-black-500 rounded-full h-12 w-12 ml-5\",\n        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faUser,\n          className: \"text-xl text-white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", props.friendsName, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 h-4/5 w-4/6 mx-auto overflow-y-auto\",\n      children: [messages && messages.map((message, index) => {\n        let serverDate = new Date(data.date);\n        let day = serverDate.getDate();\n        let hour = serverDate.getHours();\n        return /*#__PURE__*/_jsxDEV(Message, {\n          message: message,\n          image: props.friendImage,\n          username: username\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 29\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-5 rounded-b-3xl w-full mb-12\",\n      children: /*#__PURE__*/_jsxDEV(MessageBar, {\n        conversationID: id,\n        username: username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 9\n  }, this);\n}\n_s(Chat, \"FjgxTXkPOhkbJyI3IvVR3anfiOI=\", false, function () {\n  return [useNavigate];\n});\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useContext","useEffect","useState","useRef","useNavigate","axios","jwtDecode","RenderContext","FontAwesomeIcon","faArrowLeft","faUser","MessageBar","Message","jsxDEV","_jsxDEV","Chat","props","_s","socket","username","setUsername","messages","setMessages","id","setID","messagesEndRef","navigate","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","openSockets","conversationID","emit","messageHandler","message","prevMessages","off","on","getUsernameFromToken","accessToken","localStorage","getItem","decodedToken","error","refreshToken","defaults","headers","common","get","then","response","setItem","data","catch","replace","friendsName","post","friend","musicHome","setChangeTo","setChoice","className","children","icon","onClick","fileName","_jsxFileName","lineNumber","columnNumber","friendImage","src","map","index","serverDate","Date","date","day","getDate","hour","getHours","image","ref","_c","$RefreshReg$"],"sources":["C:/Users/asus/Desktop/EchoBond/Client/src/components/mainSpace/chat.js"],"sourcesContent":["import React, { useContext, useEffect, useState, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport { jwtDecode } from 'jwt-decode';\r\n\r\nimport { RenderContext } from '../../Pages/musicHome';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowLeft, faUser } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport MessageBar from '../chat/messagebar';\r\nimport Message from '../chat/message';\r\n\r\nfunction Chat (props) {\r\n    const { socket } = useContext(RenderContext)\r\n    const [username, setUsername] = useState('')\r\n    const [messages, setMessages] = useState([])\r\n    const [id, setID] = useState()\r\n\r\n    const messagesEndRef = useRef(null)\r\n    const navigate = useNavigate()\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current?.scrollIntoView();\r\n    }\r\n\r\n    const openSockets = (conversationID) => {\r\n        setID(conversationID);\r\n\r\n        socket.emit('conversation', conversationID);\r\n\r\n        // Update a separate state variable to force re-render.\r\n        const messageHandler = (message) => {\r\n            setMessages((prevMessages) => [...prevMessages, message]);\r\n        };\r\n\r\n        // Set up socket event listener.\r\n        socket.off('message')\r\n        socket.on('message', messageHandler)\r\n    }\r\n\r\n    // Get username from the token.\r\n    function getUsernameFromToken() {\r\n        const accessToken = localStorage.getItem('accessToken');\r\n        if (!accessToken) {\r\n            return null;\r\n        }\r\n    \r\n        try {\r\n            const decodedToken = jwtDecode(accessToken)\r\n            return decodedToken.username; // Assuming the username is stored in the token under 'username'\r\n        } catch (error) {\r\n            const refreshToken = localStorage.getItem('refreshToken');\r\n            axios.defaults.headers.common['Authorization'] = `Bearer ${refreshToken}`\r\n\r\n            axios.get(\"http://100.91.43.32:4000/token/refresh-token\")\r\n            .then(response => {\r\n                localStorage.setItem(\"accessToken\", response.data.accessToken)\r\n                const decodedToken = jwtDecode(response.data.accessToken)\r\n            \r\n                return decodedToken.username; // Assuming the username is stored in the token under 'username'\r\n            })\r\n            .catch(error => {\r\n                navigate(\"/\", { replace: true })\r\n            })\r\n            \r\n            return null;\r\n        }\r\n    }    \r\n\r\n    // Clean messages and disconnect from room\r\n    // when friend's conversation is changing.\r\n    useEffect(() => {\r\n        setMessages([])\r\n        if (id) {\r\n            socket.emit('leaveChat', id)\r\n        }\r\n    }, [props.friendsName])\r\n\r\n    // Make request to get conversationID and connect to \r\n    // a room with the specific friend.\r\n    useEffect(() => {\r\n        const accessToken = localStorage.getItem('accessToken');\r\n        axios.defaults.headers.common['Authorization'] = `Bearer ${accessToken}`\r\n\r\n        axios.post('http://100.91.43.32:4000/chat/get-conversation-id', { friend: props.friendsName })\r\n            .then((response) => {\r\n                setMessages([])\r\n                openSockets(response.data.conversationID)\r\n                setUsername(getUsernameFromToken)\r\n            })\r\n            .catch(error => {        \r\n                const refreshToken = localStorage.getItem('refreshToken');\r\n                axios.defaults.headers.common['Authorization'] = `Bearer ${refreshToken}`\r\n\r\n                axios.get(\"http://100.91.43.32:4000/token/refresh-token\")\r\n                .then(response => {\r\n                    localStorage.setItem(\"accessToken\", response.data.accessToken)   \r\n                    axios.defaults.headers.common['Authorization'] = `Bearer ${response.data.accessToken}`\r\n\r\n                    axios.post('http://100.91.43.32:4000/chat/get-conversation-id', { friend: props.friendsName })\r\n                    .then(response => {\r\n                        setMessages([])\r\n                        openSockets(response.data.conversationID)\r\n                        setUsername(getUsernameFromToken)\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    navigate(\"/\", { replace: true })\r\n                })\r\n            });\r\n    }, [props.friendsName]);\r\n\r\n    // When messages change scroll to bottom.\r\n    useEffect(() => {\r\n        scrollToBottom()\r\n    }, [messages])\r\n\r\n    // Go to main page.\r\n    const musicHome = () => {\r\n        if (props) {\r\n            props.setChangeTo('All')\r\n            props.setChoice('mainSpace');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col text-white h-full w-full rounded-3xl\">\r\n            <div className=\"flex flex-row gap-4 items-center text-xl ml-4 pt-4\">\r\n                <FontAwesomeIcon icon={faArrowLeft} className=\"cursor-pointer\" onClick={musicHome} />\r\n                {props.friendImage ?\r\n                    <img src={props.friendImage} className='h-12 w-12 rounded-full ml-4' />\r\n                    :\r\n                    <div className=\"bg-gradient-to-r from-purple-200 to-blue-200 flex justify-center items-center border-2 border-black-500 rounded-full h-12 w-12 ml-5\">\r\n                        <FontAwesomeIcon icon={faUser} className=\"text-xl text-white\" />\r\n                    </div>\r\n                }\r\n                <p> {props.friendsName} </p>\r\n            </div>\r\n            <div className=\"mt-4 h-4/5 w-4/6 mx-auto overflow-y-auto\">\r\n                {messages &&\r\n                    messages.map((message, index) => {\r\n                        let serverDate = new Date(data.date)\r\n                        let day = serverDate.getDate()\r\n                        let hour = serverDate.getHours()\r\n                        \r\n                        return (\r\n                            <Message key={index} message={message} image={props.friendImage} username={username} />\r\n                        )\r\n                })}\r\n                <div ref={messagesEndRef} />\r\n            </div>\r\n            <div className=\"py-5 rounded-b-3xl w-full mb-12\">\r\n                <MessageBar conversationID={id} username={username} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Chat;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}